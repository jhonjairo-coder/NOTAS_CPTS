
#### Mapping the entire Infrastructure 

DNS are the backbone of the entire network, let’s scan those and identify misconfigurations:

Los DNS son la columna vertebral de toda la red, vamos a analizarlos e identificar las configuraciones erróneas:


``` bash
nmap -sU -p 53 --open 10.5.2.0/24
```

```bash
──(adrts)─(kali㉿kali)-[~/machines/adrts]
└─$ nmap -sU -p53 --open 10.5.2.0/24 -oN target               
Starting Nmap 7.95 ( https://nmap.org ) at 2025-11-20 18:09 EST
Nmap scan report for 10.5.2.1
Host is up (0.11s latency).

PORT   STATE SERVICE
53/udp open  domain

Nmap scan report for 10.5.2.2
Host is up (0.17s latency).

PORT   STATE         SERVICE
53/udp open|filtered domain

Nmap scan report for 10.5.2.99
Host is up (0.11s latency).

PORT   STATE SERVICE
53/udp open  domain

Nmap scan report for 10.5.2.111
Host is up (0.17s latency).

PORT   STATE         SERVICE
53/udp open|filtered domain

Nmap done: 256 IP addresses (9 hosts up) scanned in 12.06 seconds
```




`sudo nmap 10.129.2.0/24 -sn -oA tnet | grep for | cut -d" " -f5`

| **Scanning Options** | **Description**                                                  |
| -------------------- | ---------------------------------------------------------------- |
| `10.129.2.0/24`      | Target network range.                                            |
| `-sn`                | Disables port scanning.                                          |
| `-oA tnet`           | Stores the results in all formats starting with the name 'tnet'. |
`sudo nmap -sn -oA tnet -iL hosts.lst | grep for | cut -d" " -f5`

| **Scanning Options** | **Description**                                                      |
| -------------------- | -------------------------------------------------------------------- |
| `-sn`                | Disables port scanning.                                              |
| `-oA tnet`           | Stores the results in all formats starting with the name 'tnet'.     |
| `-iL`                | Performs defined scans against targets in provided 'hosts.lst' list. |
## Scan Multiple IPs
`sudo nmap -sn -oA tnet 10.129.2.18 10.129.2.19 10.129.2.20| grep for | cut -d" " -f5`

`sudo nmap -sn -oA tnet 10.129.2.18-20| grep for | cut -d" " -f5

## Scan Single IP

`sudo nmap 10.129.2.18 -sn -oA host

| **Scanning Options** | **Description**                                                  |
| -------------------- | ---------------------------------------------------------------- |
| `10.129.2.18`        | Performs defined scans against the target.                       |
| `-sn`                | Disables port scanning.                                          |
| `-oA host`           | Stores the results in all formats starting with the name 'host'. |
`sudo nmap 10.129.2.18 -sn -oA host -PE --packet-trace 

|**Scanning Options**|**Description**|
|---|---|
|`10.129.2.18`|Performs defined scans against the target.|
|`-sn`|Disables port scanning.|
|`-oA host`|Stores the results in all formats starting with the name 'host'.|
|`-PE`|Performs the ping scan by using 'ICMP Echo requests' against the target.|
|`--packet-trace`|Shows all packets sent and received|
`
`sudo nmap 10.129.2.18 -sn -oA host -PE --reason`

|**Scanning Options**|**Description**|
|---|---|
|`10.129.2.18`|Performs defined scans against the target.|
|`-sn`|Disables port scanning.|
|`-oA host`|Stores the results in all formats starting with the name 'host'.|
|`-PE`|Performs the ping scan by using 'ICMP Echo requests' against the target.|
|`--reason`|Displays the reason for specific result.|

`sudo nmap 10.129.2.18 -sn -oA host -PE --packet-trace --disable-arp-pingsudo nmap 10.129.2.18 -sn -oA host -PE --reason

